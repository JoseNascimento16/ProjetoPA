TENHO QUE APRENDER A TROCAR DE MODELO DE USUARIO (USAR O ABSTRACT AUTH_USER)

TENHO QUE APRENDER COMO REFERENCIAR UM FOREIGNKEY NO REVERSO QUANDO ESTA FOREIGNKEY TEM UM RELATED_NAME COMO ATRIBUTO(no momento só sei fazer isso quando não tem related_name configurado)

----------------------------------------------------------------------------------


- Ajustar proporção da tabela fia na impressão quando reduz/aumenta escala! (a tabela de assinaturas da suprot não tem este problema, usar como exemplo. Provavelmente posso corrigir definindo o width.)

- Implementar aviso de que, a partir da primeira assinatura, o plano nao pode mais ser alterado. No caso de planos pre aprovados
- Fia
   - Estou na finalização pela suprot
	- checar se -0 no form atrapalha
	- link no documento direto para a correção
   - testar urls Fia

- Form de cadastro de funcionarios func_sec nao esta abrindo quando acabou de ser criado um func_sec do mesmo tipo
- OK Não permitir que Tesoureiro assine plano FIA
- OK Não permitir que membros do colegiado não escolhidos assinem planos FIA
- OK atualizar a quantidade de assinaturas do plano FIA considerando assinatura do tecnico.
- OK Quando APROVADO, perde alterabilidade. O icone da assinatura do tecnico_fia não irá aparecer para ele assinar, consertar isso
- OK Não permitir a primeira assinatura se o grupo de Autorização não estiver completo.   
- OK Remover assinatura, quando remover membro do colegiado do modelo_fia.
- OK Se sobrescrever o tecnico, remove assinatura tbm



- menu edicao nao mostra para planos finalizados para funcioarios func sec
- alternancia menu parou de funcionar pós print...
- Remover capacidade de selecionar texto para burlar impressão

- Talvez Inserir funcionalidade de alteração de cadastro de escola.

- OK Novo sistema de assinaturas SUPROT
    - OK Não precisa ajustar Many-To-Many 
    - OK Configurar modelos para comportar novo sistema
    - OK Verificar a variavel assina_planos, a checagem da len(assinaturas) nao sera mais atrelada a ela.
    - OK Configurar página 'cadastros funcionarios' para cadastro de novos funcionarios e seus 3 tipos
    - OK Configurar página 'planos de ação' para mostrar os botões corretamente
    - OK Configurar accordion: Diretor não deve mostrar como opção de corretor
    - OK Configurar página 'cadastros funcionarios' na mudança de tipo de cargo(removido)
    - OK Alterar sistema de mudança de cargo de Func_sec

- OK Aplicar alterabilidade.
- OK Não permitir exclusão de usuários, somente inativação! (Sempre?)
   - OK Configurar as dependências para quando isso acontece
- OK incluir icone de seta para o accordion planos de outras paginas
- OK incluir o accordion plano de outras paginas
- OK verificar como essa pagina (planos_De_acao) esta mostrando para Secretaria (nao pode corrigir, nem aprovar, nem ASSINAR)
- OK Quando apaga plano, desassocia as TURMAS também
- OK Quando RESETA, desassocia TURMAS também.
- OK Talvez gerar um log de plano APROVADO quando a escola pre assinar planos e reenviar a secretaria e começarem as assinaturas dos func_sec

- OK Plano com donos? SIM
   - OK Planos em situação "Assinado" DEVEM aparecer para os usuários de alto cargo, mesmo que este não seja o corretor.
   - OK Plano que não tem 'corretor' aparece para todos.
   - OK Se entrar pelas ações ou despesas, pode visualizar, mas não pode corrigir se não for o 'corretor'
   - OK Se alguem clicar no botão 'corrigir' vira dono, informar que ele será o dono
   - OK Gerar LOG para isso
   - OK Plano com 'dono' só aparece para ele, exceto algumas condições.
   - OK Criar um dropbox menu acordeon simples com mais informações sobre o plano na pagina de planos de acao.
	- OK Mostrar o acordeon para ESCOLAS/FUNCIONARIOS também
   - OK SECRETARIA ou Func_sec de alto cargo podem "TROCAR" o 'corretor'(dono) de um plano
	- OK Impedir que o corretor de um plano seja TROCADO, caso o plano esteja em situação inapropriada para tal
   - OK Criar PESQUISA, para func de alto cargo e SECRETARIA encontrarem planos já com donos e poderem trocar o "Corretor"
	- OK Tenho que formatar a página para alinhar os planos
	- OK PESQUISA NÃO deve achar planos em desenvolvimento!
	- OK Talvez depois tenho que replicar isso para o usuario SECRETARIA também.

   - OK Criar pagination para todos os tipos de usuarios.
	- OK Criar pagination para log de planos e geral.

   - OK Criar PESQUISA, para a página de LOGS (Sec, Func_sec, Escolas)
   - OK Criar PESQUISA de escolas cadastradas e funcionários cadastrados(sec, func_sec)
- OK Só funcionário de Alto cargo vê a página de cadastro de funcionários.
   - OK Cadastro de funcionários da Secretaria DEVE mostrar indicação de alto cargo
   - OK Cadastro de funcionários da Secretaria DEVE permitir "alto cargo" alterar tipo de cargo de funcionarios.

   - OK Mostrar status de quais funcionários ja assinaram o plano.
	- OK Em um plano FINALIZADO, Quando um func_sec é rebaixado para PADRÃO, ou excluido(inativo), as assinaturas dele não podem ser removidas
	- OK O mesmo para funcionarios e escolas.
	- OK quando torna func_sec inativo, ele nao pode ser mostrado na pag de funcionarios.
	- OK O mesmo para funcionarios e escolas.
   - OK Mostrar assinaturas da escola no documento ações
   - OK Mostrar assinaturas de Func_sec no documento ações.

   - OK Criar página de PERFIL
	- Criar funcionalidade de TROCA de SENHA (precisa de funcionalidade de e-mail)

- Verificar as chamadas de incluir assinaturasm e logs, se estão todas funcionando (teste)

- OK Talvez criar checagem, caso um func_sec de alto cargo seja adicionado, voltar todos os planos 'inteiramente assinados' para 'Assinados'
   - OK O mesmo para caso um Func_sec altere algum outro Func_sec para alto cargo
   - OK Porém quando um Func_sec REBAIXA outro Func_sec para 'padrão', tenho que remover as assinaturas deste func_sec
	- OK retornar o plano para Assinado

- IMPEDIR ACESSO ÀS VIEWS PARA FUNCIONARIOS/ESCOLAS/SECRETARIA

- DESABILITAR LINKS DESNECESSARIOS 
   - Secretaria
   - Escolas
   - Funcionários

- IMPRESSÃO:
   - DECIDI O SEGUINTE:
	- https://jsfiddle.net/qL29aw31/
	- https://jsfiddle.net/gtkve3hL/2/

- MENSAGENS
   - 

- OK PENSAR como implementar uma função para resetar um plano para um estado ALTERÁVEL, ou seja, APÓS aprovado

- Se uma alteração for feita num plano a partir de publicado, gera LOG. (SIGNALS)

- OK Colocar filtros para textos muito grandes nos cards de planos

- Quando secretaria aprova plano, as turmas sao permanentemente associadas a ele. Será que tenho que checar se elas estão inseridas?(views.py linha 1325)

- OK Planos PENDENTE, APROVADO, CONCLUIDO ou CORRIGIDO PELA ESCOLA não podem ser modificados nos menus laterais (documentos)(ESCOLA)
- OK Planos Em desenvolvimento, Publicado, Corrigido, APROVADO, CONCLUIDO ou não podem ser modificados nos menus laterais (documentos)(SECRETARIA)


- OK FUNCIONALIDADE DE ASSINATURAS digitais

- OK FUNCIONALIDADE DE IMPRIMIR PLANO APROVADO

- FUNCIONALIDADE "LEMBRAR DE MIM" NO LOGIN, TALVEZ TROCAR POR ESQUECI MINHA SENHA

- FUNCIONALIDADE DE TROCA DE SENHA
  - Criar campo para preenchimento de email de escola/funcionarios cadastrada

- Enviar e-mail sempre que determinadas ações forem executadas. (plano aprovado, plano devolvido, plano enviado)(SIGNALS)

- Botão de engrenagem para telas pequenas

- Cadastros SERCRETARIA:
   - OK Alternância de HTMLs
   - OK Checar se a classificação BUGA por qualquer motivo que seja quando gera funcionario da secretaria
   - OK carrega escola cadastradas
   - OK cadastra escola
   - exclui escola (não precisa ainda)
   - OK carrega funcionarios cadastrados
   - OK cadastra funcionarios
   - OK exclui funcionario

LOG DE EVENTOS

- OK ASSOCIAR O LOG AO ID DO PLANO, E NAO AO NOME. OK
- OK Criar modelo OK
- OK Quando publicar, gerar log(OK). 
- A partir deste estado, sempre gerar log quando uma alteração for feita.
- OK Centralizar a criação de logs num unico arquivo.
- inserir a geração de logs nas devidas views e afins.
- Gerar log quando Func_sec altera cargo
- Talvez já começar a mecher no DashBoard.(ainda nao)


- OK Assinatura de planos
- OK Criar funcionalidade de aprovação para membos do colegiado e tesoureiro, gerando logs.
- OK Criar condicao para só poder concluir quando todos os membros aprovarem.
- OK Não pode enviar plano à Secretaria se não houver no minimo 1 funcionário cadastrado
- OK Não pode enviar plano à Secretaria se não houver no minimo 1 ordem e 1 codigo já cadastrados e JÁ ADICIONADOS!
- OK Link para a criação de ordens e códigos a partir do menu do documento AÇÃO
- OK Secretaria e funcionarios não acessam páginas de ordens nem códigos

- OK Se um funcionario for apagado:
   - OK remove todas as assinaturas deste usuario
   - OK reduz em 1 a quant de assinaturas de cada plano desse, SE o mesmo ja tiver alguma assinatura, ou seja ja estiver em estado de aprovado
   - OK reduz a quant de funcionarios da matriz

- OK FUNÇÃO DE EDIÇÃO DE PLANO/ORDENS/CODIGOS
- OK CADASTRO DE ESCOLAS E FUNCIONARIOS
- OK FUNCIONALIDADE DE CORREÇÃO
- OK EDIÇÃO DE ORDENS
- OK EDICAO DE CODIGOS

OK tooltip para informar isso

DUVIDAS:

- Nas DESPESAS
- Só pode haver 1 tesoureiro? SIM